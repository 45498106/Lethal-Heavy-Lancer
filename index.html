<!Doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>BabylonJS Demo</title>
    <script src="http://cdn.babylonjs.com/2-5/babylon.max.js"></script>
    <!-- <script src="https://raw.githubusercontent.com/schteppe/cannon.js/master/build/cannon.js"></script> -->
    <style>
    #canvas {
      width: 100%;
      height: 100%;
    }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      window.addEventListener("DOMContentLoaded", function() {
        var canvas = document.getElementById("canvas");
        var engine = new BABYLON.Engine(canvas, true);

        var createScene = function () {
          var scene = new BABYLON.Scene(engine);
          scene.clearColor = new BABYLON.Color3.White();
          var box = BABYLON.Mesh.CreateBox("Box", 4.0, scene);

          var box2 = BABYLON.Mesh.CreateBox("Box2", 4.0, scene);
          var material = new BABYLON.StandardMaterial("material1", scene);
          material.wireframe = true;
          box2.material = material;

          // Follow Camera
          var camera = new BABYLON.FollowCamera("followCam",BABYLON.Vector3.Zero(),scene);
          camera.lockedTarget = box;
          camera.radius = 50;
          camera.heightOffset = 20;
          camera.attachControl(canvas, true);
          scene.activeCamera = camera;
          return scene;
        }

        window.addEventListener("keydown", function() {
          if (event.key == "w") {
            scene.getMeshByName("Box2").position.z += 0.3;
            console.log("move forward")
          }
          if (event.key == "s") {
            console.log("move backward")
            scene.getMeshByName("Box2").position.z -= 0.3;
          }
          if (event.key == "a") {
            console.log("move left")
            scene.getMeshByName("Box2").position.x -= 0.3;
          }
          if (event.key == "d") {
            console.log("move right")
            scene.getMeshByName("Box2").position.x += 0.3;
          }
        });

        var scene = createScene();
        engine.runRenderLoop(function(){
          scene.render();
        });
      });
    </script>
  </body>
</html>
