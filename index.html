<!Doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>BabylonJS Demo</title>
    <script src="http://cdn.babylonjs.com/2-5/babylon.max.js"></script>
    <style>
    #canvas {
      width: 100%;
      height: 100%;
    }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      window.addEventListener('DOMContentLoaded', function() {
        var canvas = document.getElementById('canvas');

        var engine = new BABYLON.Engine(canvas, true);

        var createScene = function () {
          var scene = new BABYLON.Scene(engine);
          scene.clearColor = new BABYLON.Color3.White();
          // Free Camera
          // var camera = new BABYLON.FreeCamera('camera1', new BABYLON.Vector3(0,0,-10),scene);
          var box = BABYLON.Mesh.CreateBox("Box", 4.0, scene);

          // Create a second object so that we can actually witness the movement
          // Make this one wireframe to distinguish the difference.
          // var box2 = BABYLON.Mesh.CreateBox("Box2", 4.0, scene);
          var material = new BABYLON.StandardMaterial("material1", scene);
          // material.diffuseColor = BABYLON.Color3.Blue();
          // material.emissiveColor = BABYLON.Color3.Red();
          // material.specularColor = BABYLON.Color3.Red();
          material.diffuseTexture = new BABYLON.Texture("gfs.png", scene);
          // material.alpha = 0.1;
          box.material = material;

          // box2.position = new BABYLON.Vector3(0,5,0);

          // Orbit Camera
          var camera = new BABYLON.ArcRotateCamera("arcCamera",
                  BABYLON.Tools.ToRadians(45),
                  BABYLON.Tools.ToRadians(45),
                  10.0, box.position, scene);
          // camera.setTarget(BABYLON.Vector3.Zero());

          // Follow Camera
          // var camera = new BABYLON.FollowCamera("followCam",BABYLON.Vector3.Zero(),scene);
          // camera.lockedTarget = box;
          // // Distance from target
          // camera.radius = 50;
          // // Distance above
          // camera.heightOffset = 0;
          camera.attachControl(canvas,true);
          //
          // scene.activeCamera = camera;

          // To each we pass the appropriate key scancode for the each key in the WASD combination.

          // Press W (Up)
          // camera.keysUp.push(87);
          // Press D (down)
          // camera.keysDown.push(83);
          // Press A (left)
          // camera.keysLeft.push(65);
          // Press S (left)
          // camera.keysRight.push(68);

          var light = new BABYLON.PointLight("pointLight", new BABYLON.Vector3(0,10,0), scene);
          light.parent = camera;
          light.diffuse = new BABYLON.Color3(1,1,1);
          return scene;
        }

        var scene = createScene();
        engine.runRenderLoop(function(){
          // scene.getMeshByName("Box").velocity -= 0.01;
          var material = scene.getMeshByName("Box").material;
          material.alpha -= 0.01;
          if(material.alpha <= 0) material.alpha = 1;
          scene.render();
        });
      });
    </script>
  </body>
</html>
